# 3. Modifying a Path

In this step we will build an animation that follows a complex path during the animation and animates the credits during the motion. MotionLayout can modify the path that a view will take between the start and the end using a KeyPosition.

After we complete this step, we'll have implemented the following animation driven by clicking on the moon.

[![Modifying a Path](https://github.com/Vaibhav4697/AndroidUserInterface/blob/master/animations/animation_3.gif)](https://github.com/Vaibhav4697/AndroidUserInterface/blob/master/documentation/3.%20Modifying%20a%20Path.md#3-modifying-a-path)

	1. Create a new empty activity -> ThirdActivity.
	
	2. Save the below given code to the file activity_third.xml ->
	
			<androidx.constraintlayout.motion.widget.MotionLayout
				xmlns:android="http://schemas.android.com/apk/res/android"
				xmlns:app="http://schemas.android.com/apk/res-auto"
				xmlns:tools="http://schemas.android.com/tools"
				android:layout_width="match_parent"
				android:layout_height="match_parent"
				tools:context=".ThirdActivity"
				app:layoutDescription="@xml/activity_third_scene">

				<ImageView
					android:id="@+id/moon"
					android:layout_width="wrap_content"
					android:layout_height="wrap_content"
					app:srcCompat="@drawable/moon"
					android:tint="?colorOnPrimary"
					android:contentDescription="@string/moon"/>

				<TextView
					android:id="@+id/credits"
					android:layout_width="wrap_content"
					android:layout_height="wrap_content"
					android:text="@string/credits"
					android:textSize="24sp"
					android:textColor="?colorOnPrimary"/>

			</androidx.constraintlayout.motion.widget.MotionLayout>
	
	3. Create a new XML Resource File -> app -> res -> xml -> activity_third_scene.xml.
	
	4. Save the below given code to the file activity_third_scene.xml ->
	
			<!-- Describe the animation for activity_third.xml -->
			<MotionScene xmlns:android="http://schemas.android.com/apk/res/android"
				xmlns:app="http://schemas.android.com/apk/res-auto">

				<!-- A transition describes an animation via start and end state -->
				<Transition
					app:constraintSetStart="@+id/start"
					app:constraintSetEnd="@+id/end"
					app:duration="3000">

					<OnClick
						app:targetId="@id/moon"
						app:clickAction="toggle"/>

				</Transition>

				<!-- Constraints to apply at the start of the animation -->
				<ConstraintSet
					android:id="@+id/start">

					<Constraint
						android:id="@id/moon"
						android:layout_width="wrap_content"
						android:layout_height="wrap_content"
						app:layout_constraintStart_toStartOf="parent"
						app:layout_constraintBottom_toBottomOf="parent"/>

					<Constraint
						android:id="@id/credits"
						android:layout_width="wrap_content"
						android:layout_height="wrap_content"
						app:layout_constraintStart_toStartOf="parent"
						app:layout_constraintBottom_toBottomOf="@id/moon"
						app:layout_constraintTop_toTopOf="@id/moon"
						android:alpha="0.0"
						android:layout_marginStart="16dp"/>

				</ConstraintSet>

				<ConstraintSet
					android:id="@+id/end">

					<Constraint
						android:id="@id/moon"
						android:layout_width="wrap_content"
						android:layout_height="wrap_content"
						app:layout_constraintEnd_toEndOf="parent"
						app:layout_constraintBottom_toBottomOf="parent"/>

					<Constraint
						android:id="@id/credits"
						android:layout_width="wrap_content"
						android:layout_height="wrap_content"
						android:alpha="1.0"
						android:layout_marginStart="16dp"
						app:layout_constraintStart_toStartOf="parent"
						app:layout_constraintBottom_toBottomOf="@id/moon"
						app:layout_constraintTop_toTopOf="@id/moon"/>

				</ConstraintSet>

			</MotionScene>
			
		*MotionScene tag is used to describe the animationn for the activity.
		*Transition tag is used to describe the animation with the help of start and end state.
		*OnClick tag is used to define the event to trigger the animation.
		*ContraintSet and Constraint tag is used to define the constraints that is to be applied at the start or at the end of the animation.

	6. Run and Test the application.


All animations in MotionLayout are defined by a start and an end ConstraintSet that define what the screen looks like before the animation starts and after the animation is done. By default, MotionLayout will plot a linear path (or a straight line) between the start and end position of each view that changes position.

To build complex paths like the arc of the moon in this example, MotionLayout uses a KeyPosition to modify the path that a view takes between the start and end.

A KeyPosition modifies the path a view takes between the start and the end ConstraintSet.

It can distort the path of a view to go through a third (or fourth, or fifth, ...) point between the start and end positions. Or, it can even speed up and slow down progress along either the X or Y axis.

A KeyPosition can only change the path during the animation, it cannot change the start or the end.

The ConstraintSet will always specify the final position for the views at the start and end of the animation.